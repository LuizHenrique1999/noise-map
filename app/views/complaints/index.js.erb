document.querySelector("#search_address").innerHTML = "<%= escape_javascript(render partial: "layouts/search_address_form") %>"
document.querySelector("#create_complaint").innerHTML = "<%= escape_javascript(render partial: "layouts/create_complaint_form") %>"

let clusterLayer = L.markerClusterGroup();
let heatmapData = {max: 8, data: []};
let latitude, longitude;

<% @all_complaints.each do |complaint| %>
  latitude = <%= complaint.latitude %>
  longitude = <%= complaint.longitude %>

  clusterLayer.addLayer(L.marker([latitude, longitude]).bindPopup("<%= complaint.description %>"))
  heatmapData.data.push({lat: latitude, lng: longitude, value: 1})
<% end %>

map.addLayer(clusterLayer);